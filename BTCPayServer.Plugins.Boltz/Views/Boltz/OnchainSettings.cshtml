@using BTCPayServer.Plugins.Boltz.Models
@using BTCPayServer.Plugins.Boltz.Views
@using BTCPayServer.Services
@using BTCPayServer.TagHelpers
@using Microsoft.AspNetCore.Mvc.TagHelpers
@model BTCPayServer.Plugins.Boltz.Models.OnchainSettingsViewModel
@{
    ViewData.SetActivePage(BoltzNavPages.OnchainSettings, "Boltz BTC payment Settings");;
    var storeId = Context.GetCurrentStoreId();
    var walletList = new SelectList(
        Model.ExistingWallets,
        nameof(ExistingWallet.Id),
        nameof(ExistingWallet.Name),
        Model.Config.WalletId
    );
}

<form method="post">
    <div class="sticky-header">
        <h2 text-translate="true">@ViewData["Title"]</h2>
        <button id="page-primary" name="command" type="submit" value="save" class="btn btn-primary">Save</button>
    </div>
    <partial name="_StatusMessage"/>
    <div class="row">
        <div class="col-xl-8 col-xxl-constrain">
            <div class="mb-5">
                <div class="d-flex align-items-center">
                    <input type="checkbox" asp-for="Enabled" class="btcpay-toggle me-3"/>
                    <label asp-for="Enabled" class="form-check-label"></label>
                </div>

                <div class="form-group mt-4">
                    <label asp-for="Config.WalletId" class="form-label">Wallet</label>
                    <div class="d-flex flex-row gap-2">
                        <select asp-items="walletList" asp-for="Config.WalletId" class="form-select flex-grow-1">
                        </select>
                        <a asp-action="SetupWallet" asp-route-storeId="@storeId" asp-route-flow="@WalletSetupFlow.OnchainPayments" class="btn btn-secondary text-nowrap">
                            Setup another wallet
                        </a>
                    </div>
                </div>
            </div>
        </div>
    </div>
</form>